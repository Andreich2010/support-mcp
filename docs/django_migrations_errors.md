# üìÅ **docs/django_migrations_errors.md**
(–¥–ª—è –æ—à–∏–±–æ–∫ –º–∏–≥—Ä–∞—Ü–∏–π / relation does not exist)

```markdown
# –û—à–∏–±–∫–∏ –º–∏–≥—Ä–∞—Ü–∏–π Django ‚Äî —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é

–ù–∏–∂–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã —Ç–∏–ø–æ–≤—ã–µ –ø—Ä–∏—á–∏–Ω—ã –æ—à–∏–±–æ–∫ –º–∏–≥—Ä–∞—Ü–∏–π –≤ Django –∏ —Å–ø–æ—Å–æ–±—ã –∏—Ö —Ä–µ—à–µ–Ω–∏—è.

---

## 1. –û—à–∏–±–∫–∞: `relation "table_name" does not exist`

–ü—Ä–∏—á–∏–Ω–∞:
- –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã;
- –±–∞–∑–∞ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∞, –∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä Django ‚Äî –Ω–µ—Ç.

–†–µ—à–µ–Ω–∏–µ:
```bash
python manage.py migrate
–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Docker:

bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
docker compose exec app python manage.py migrate
2. –û—à–∏–±–∫–∞: django.db.utils.ProgrammingError: column ... does not exist
–ü—Ä–∏—á–∏–Ω—ã:

–º–æ–¥–µ–ª—å –∏–∑–º–µ–Ω–∏–ª–∞—Å—å, –Ω–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ —Å–æ–∑–¥–∞–Ω—ã –∏–ª–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã.

–†–µ—à–µ–Ω–∏–µ:

bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
python manage.py makemigrations
python manage.py migrate
3. –û—à–∏–±–∫–∞: –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
django.db.migrations.exceptions.InconsistentMigrationHistory
–†–µ—à–µ–Ω–∏–µ:

–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –º–∏–≥—Ä–∞—Ü–∏–π;

–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å --fake –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

4. –û—à–∏–±–∫–∞: –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –≤ INSTALLED_APPS
–†–µ—à–µ–Ω–∏–µ:

–¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ INSTALLED_APPS.

5. –û—à–∏–±–∫–∞: –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—ã—Ç–∞—é—Ç—Å—è –ø—Ä–∏–º–µ–Ω–∏—Ç—å—Å—è –¥–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –±–∞–∑—ã
–î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å:

yaml
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
depends_on:
  postgres:
    condition: service_healthy
–∏ healthcheck:

yaml
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
healthcheck:
  test: ["CMD-SHELL", "pg_isready -U postgres"]
  timeout: 5s
  retries: 10
